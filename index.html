<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cube Draft Archetypes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #e8f0f8 0%, #d5e3f0 50%, #c8dae8 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }
        
        .header {
            text-align: right;
            margin-bottom: 40px;
        }
        
        .title {
            font-size: 3em;
            font-weight: bold;
            color: #1a2a3a;
            letter-spacing: 3px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .content {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 40px;
            position: relative;
        }
        
        .yorion-section {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .yorion-art {
            width: 100%;
            max-width: 350px;
            aspect-ratio: 5/7;
            background: #000;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        .yorion-art img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            transition: opacity 0.3s ease;
        }
        
        .yorion-art .default-image {
            opacity: 1;
        }
        
        .yorion-art .default-image.hidden {
            opacity: 0;
        }
        
        .yorion-art .preview-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .yorion-art .preview-image.visible {
            opacity: 1;
        }
        
        .yorion-label {
            margin-top: 20px;
            color: #2a3a4a;
            font-size: 1.2em;
            font-style: italic;
            text-align: center;
            min-height: 1.5em;
            transition: all 0.3s ease;
        }
        
        .archetypes-container {
            position: relative;
        }
        
        .archetypes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            transition: opacity 0.3s ease;
        }
        
        .archetypes.dimmed {
            opacity: 0.3;
            pointer-events: none;
        }
        
        .archetype {
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        
        .archetype:hover {
            transform: translateX(5px);
            border-left-width: 6px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        
        .archetype:focus {
            outline: 3px solid #4a9eff;
            outline-offset: 2px;
        }
        
        /* Guild-specific gradients */
        .archetype.azorius {
            background: linear-gradient(135deg, rgba(14, 104, 171, 0.5) 0%, rgba(240, 229, 216, 0.5) 100%);
        }
        
        .archetype.dimir {
            background: linear-gradient(135deg, rgba(14, 104, 171, 0.5) 0%, rgba(21, 11, 0, 0.5) 100%);
        }
        
        .archetype.rakdos {
            background: linear-gradient(135deg, rgba(21, 11, 0, 0.5) 0%, rgba(211, 32, 42, 0.5) 100%);
        }
        
        .archetype.gruul {
            background: linear-gradient(135deg, rgba(211, 32, 42, 0.5) 0%, rgba(0, 115, 62, 0.5) 100%);
        }
        
        .archetype.selesnya {
            background: linear-gradient(135deg, rgba(0, 115, 62, 0.5) 0%, rgba(240, 229, 216, 0.5) 100%);
        }
        
        .archetype.orzhov {
            background: linear-gradient(135deg, rgba(240, 229, 216, 0.5) 0%, rgba(21, 11, 0, 0.5) 100%);
        }
        
        .archetype.izzet {
            background: linear-gradient(135deg, rgba(14, 104, 171, 0.5) 0%, rgba(211, 32, 42, 0.5) 100%);
        }
        
        .archetype.golgari {
            background: linear-gradient(135deg, rgba(21, 11, 0, 0.5) 0%, rgba(0, 115, 62, 0.5) 100%);
        }
        
        .archetype.boros {
            background: linear-gradient(135deg, rgba(211, 32, 42, 0.5) 0%, rgba(240, 229, 216, 0.5) 100%);
        }
        
        .archetype.simic {
            background: linear-gradient(135deg, rgba(0, 115, 62, 0.5) 0%, rgba(14, 104, 171, 0.5) 100%);
        }
        
        .archetype-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .color-symbols {
            display: flex;
            gap: 5px;
            margin-right: 15px;
        }
        
        .color-symbol {
            width: 28px;
            height: 28px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.4));
        }
        
        .color-symbol img {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        .archetype-name {
            font-size: 1.5em;
            font-weight: bold;
            color: #1a1a1a;
        }
        
        .archetype-description {
            color: #2a2a2a;
            line-height: 1.6;
            font-size: 0.95em;
        }
        
        /* Card List Panel */
        .card-list-panel {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transform: translateY(-20px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .card-list-panel.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        .panel-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .panel-title h2 {
            font-size: 2em;
            color: #1a1a1a;
            margin: 0;
        }
        
        .close-btn {
            background: rgba(211, 32, 42, 0.1);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            color: #D3202A;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: rgba(211, 32, 42, 0.2);
            transform: rotate(90deg);
        }
        
        .close-btn:focus {
            outline: 3px solid #4a9eff;
            outline-offset: 2px;
        }
        
        .card-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .card-item {
            padding: 15px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: 8px;
            border-left: 3px solid rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .card-item:hover {
            background: rgba(0, 0, 0, 0.05);
            transform: translateX(5px);
            border-left-width: 5px;
        }
        
        .card-name {
            font-weight: 600;
            color: #1a1a1a;
            font-size: 1em;
        }
        
        @media (max-width: 1200px) {
            .content {
                grid-template-columns: 1fr;
            }
            
            .yorion-section {
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            .archetypes {
                grid-template-columns: 1fr;
            }
            
            .title {
                font-size: 2em;
            }
            
            .card-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title">CUBE DRAFT ARCHETYPES</div>
        </div>
        
        <div class="content">
            <div class="yorion-section">
                <div class="yorion-art" id="card-preview">
                    <img src="https://cards.scryfall.io/large/front/8/f/8ff9c83d-c5a3-4b66-bc7c-b9e4264c4c81.jpg" alt="Yorion, Sky Nomad" class="default-image" id="default-image">
                    <img src="" alt="" class="preview-image" id="preview-image" style="display: none;">
                </div>
                <div class="yorion-label" id="card-label">Yorion, Sky Nomad</div>
            </div>
            
            <div class="archetypes-container">
                <div class="archetypes" id="archetypes-grid">
                    <!-- Archetypes will be generated by JavaScript -->
                </div>
                
                <!-- Card List Panel -->
                <div class="card-list-panel" id="card-panel" role="dialog" aria-labelledby="panel-title" aria-hidden="true">
                    <div class="panel-header">
                        <div class="panel-title">
                            <div class="color-symbols" id="panel-symbols"></div>
                            <h2 id="panel-title"></h2>
                        </div>
                        <button class="close-btn" id="close-panel" aria-label="Close card list">Ã—</button>
                    </div>
                    <div class="card-list" id="card-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data structure for archetypes
        const archetypeData = {
            blink: {
                name: 'BLINK',
                guild: 'azorius',
                colors: ['W', 'U'],
                description: 'Abuse ETB triggers by repeatedly flickering your creatures for maximum value.',
                cards: [
                    'Ephemerate',
                    'Flickerwisp',
                    'Restoration Angel',
                    'Yorion, Sky Nomad',
                    'Displacer Kitten'
                ]
            },
            reanimator: {
                name: 'REANIMATOR',
                guild: 'dimir',
                colors: ['U', 'B'],
                description: 'Dump massive threats into your graveyard and cheat them directly into play.',
                cards: [
                    'Dread Return',
                    'Living Death',
                    'Archon of Cruelty',
                    'Zombify',
                    'Unearth'
                ]
            },
            sacrifice: {
                name: 'SACRIFICE',
                guild: 'rakdos',
                colors: ['B', 'R'],
                description: 'Generate value by sacrificing creatures for damage, cards, and powerful effects.',
                cards: [
                    'Goblin Bombardment',
                    'Oni-Cult Anvil',
                    'Woe Strider',
                    'Marionette Apprentice',
                    'Bloodtithe Harvester'
                ]
            },
            lands: {
                name: 'LANDS MATTER',
                guild: 'gruul',
                colors: ['R', 'G'],
                description: 'Use lands as a resource with recursion and powerful landfall triggers.',
                cards: [
                    'Life from the Loam',
                    'Wrenn and Six',
                    'Titania, Protector of Argoth',
                    'The Gitrog Monster',
                    'Omnath, Locus of Rage'
                ]
            },
            tokens: {
                name: 'TOKENS',
                guild: 'selesnya',
                colors: ['G', 'W'],
                description: 'Create an army of tokens and pump them up to overwhelm your opponent.',
                cards: [
                    'Intangible Virtue',
                    'Angel of Invention',
                    'Lingering Souls',
                    'Esika\'s Chariot',
                    'Voice of Resurgence'
                ]
            },
            recursion: {
                name: 'RECURSION',
                guild: 'orzhov',
                colors: ['W', 'B'],
                description: 'Bring back small creatures and value permanents from your graveyard repeatedly.',
                cards: [
                    'Lurrus of the Dream-Den',
                    'Serra Paragon',
                    'Sevinne\'s Reclamation',
                    'Return Triumphant',
                    'Sun Titan'
                ]
            },
            spellslinger: {
                name: 'SPELLSLINGER',
                guild: 'izzet',
                colors: ['U', 'R'],
                description: 'Cast instants and sorceries to generate tokens and overwhelming card advantage.',
                cards: [
                    'Monastery Mentor',
                    'Bedlam Reveler',
                    'Guttersnipe',
                    'Drake Hatcher',
                    'Chrome Host Seedshark'
                ]
            },
            selfmill: {
                name: 'SELF-MILL',
                guild: 'golgari',
                colors: ['B', 'G'],
                description: 'Fill your graveyard to power up creatures and enable powerful synergies.',
                cards: [
                    'Golgari Grave-Troll',
                    'Splinterfright',
                    'Satyr Wayfinder',
                    'Grapple with the Past',
                    'Grist, the Hunger Tide'
                ]
            },
            equipment: {
                name: 'EQUIPMENT',
                guild: 'boros',
                colors: ['R', 'W'],
                description: 'Attach powerful equipment to efficient creatures for aggressive victories.',
                cards: [
                    'Stoneforge Mystic',
                    'Puresteel Paladin',
                    'Colossus Hammer',
                    'Batterskull',
                    'Embercleave'
                ]
            },
            ramp: {
                name: 'RAMP',
                guild: 'simic',
                colors: ['G', 'U'],
                description: 'Accelerate your mana and deploy game-ending threats ahead of schedule.',
                cards: [
                    'Primeval Titan',
                    'Oracle of Mul Daya',
                    'Lotus Cobra',
                    'Tireless Tracker',
                    'Kodama\'s Reach'
                ]
            }
        };

        // Helper function to create mana symbol
        function createManaSymbol(color) {
            const symbol = document.createElement('div');
            symbol.className = 'color-symbol';
            symbol.innerHTML = `<img src="https://svgs.scryfall.io/card-symbols/${color}.svg" alt="${color}">`;
            return symbol;
        }

        // Card preview functionality
        const cardCache = new Map();
        const defaultImage = document.getElementById('default-image');
        const previewImage = document.getElementById('preview-image');
        const cardLabel = document.getElementById('card-label');
        const defaultLabel = 'Yorion, Sky Nomad';

        async function fetchCardImage(cardName) {
            // Check cache first
            if (cardCache.has(cardName)) {
                return cardCache.get(cardName);
            }

            try {
                const response = await fetch(`https://api.scryfall.com/cards/named?fuzzy=${encodeURIComponent(cardName)}`);
                if (!response.ok) throw new Error('Card not found');
                
                const data = await response.json();
                const imageUrl = data.image_uris?.large || data.image_uris?.normal;
                
                // Cache the result
                cardCache.set(cardName, imageUrl);
                return imageUrl;
            } catch (error) {
                console.error('Error fetching card:', error);
                return null;
            }
        }

        function showCardPreview(cardName) {
            fetchCardImage(cardName).then(imageUrl => {
                if (imageUrl) {
                    previewImage.src = imageUrl;
                    previewImage.alt = cardName;
                    previewImage.style.display = 'block';
                    
                    // Smooth transition
                    requestAnimationFrame(() => {
                        defaultImage.classList.add('hidden');
                        previewImage.classList.add('visible');
                    });
                    
                    cardLabel.textContent = cardName;
                }
            });
        }

        function hideCardPreview() {
            defaultImage.classList.remove('hidden');
            previewImage.classList.remove('visible');
            cardLabel.textContent = defaultLabel;
            
            // Hide preview image after transition
            setTimeout(() => {
                if (!previewImage.classList.contains('visible')) {
                    previewImage.style.display = 'none';
                }
            }, 300);
        }

        // Generate archetype cards
        function generateArchetypes() {
            const grid = document.getElementById('archetypes-grid');
            
            Object.entries(archetypeData).forEach(([key, data]) => {
                const archetype = document.createElement('div');
                archetype.className = `archetype ${data.guild}`;
                archetype.setAttribute('tabindex', '0');
                archetype.setAttribute('role', 'button');
                archetype.setAttribute('aria-label', `View ${data.name} archetype cards`);
                archetype.dataset.archetype = key;
                
                const header = document.createElement('div');
                header.className = 'archetype-header';
                
                const symbols = document.createElement('div');
                symbols.className = 'color-symbols';
                data.colors.forEach(color => {
                    symbols.appendChild(createManaSymbol(color));
                });
                
                const name = document.createElement('div');
                name.className = 'archetype-name';
                name.textContent = data.name;
                
                header.appendChild(symbols);
                header.appendChild(name);
                
                const description = document.createElement('div');
                description.className = 'archetype-description';
                description.textContent = data.description;
                
                archetype.appendChild(header);
                archetype.appendChild(description);
                
                // Click handler
                archetype.addEventListener('click', () => showCardPanel(key));
                archetype.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        showCardPanel(key);
                    }
                });
                
                grid.appendChild(archetype);
            });
        }

        // Show card panel
        function showCardPanel(archetypeKey) {
            const data = archetypeData[archetypeKey];
            const panel = document.getElementById('card-panel');
            const grid = document.getElementById('archetypes-grid');
            const panelTitle = document.getElementById('panel-title');
            const panelSymbols = document.getElementById('panel-symbols');
            const cardList = document.getElementById('card-list');
            
            // Update panel title and symbols
            panelTitle.textContent = data.name;
            panelSymbols.innerHTML = '';
            data.colors.forEach(color => {
                panelSymbols.appendChild(createManaSymbol(color));
            });
            
            // Update card list
            cardList.innerHTML = '';
            data.cards.forEach(card => {
                const cardItem = document.createElement('div');
                cardItem.className = 'card-item';
                cardItem.dataset.cardName = card;
                
                const cardName = document.createElement('div');
                cardName.className = 'card-name';
                cardName.textContent = card;
                
                cardItem.appendChild(cardName);
                
                // Add hover events for card preview
                cardItem.addEventListener('mouseenter', () => showCardPreview(card));
                cardItem.addEventListener('mouseleave', () => hideCardPreview());
                
                cardList.appendChild(cardItem);
            });
            
            // Show panel
            grid.classList.add('dimmed');
            panel.classList.add('active');
            panel.setAttribute('aria-hidden', 'false');
            
            // Focus close button for accessibility
            document.getElementById('close-panel').focus();
        }

        // Hide card panel
        function hideCardPanel() {
            const panel = document.getElementById('card-panel');
            const grid = document.getElementById('archetypes-grid');

            panel.classList.remove('active');
            panel.setAttribute('aria-hidden', 'true');
            grid.classList.remove('dimmed');

            // Reset preview when closing panel
            hideCardPreview();
        }

        // Event listeners
        document.getElementById('close-panel').addEventListener('click', hideCardPanel);

        // Reset preview when mouse leaves card list area
        document.getElementById('card-list').addEventListener('mouseleave', hideCardPreview);
        
        // Close panel with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const panel = document.getElementById('card-panel');
                if (panel.classList.contains('active')) {
                    hideCardPanel();
                }
            }
        });

        // Initialize
        generateArchetypes();
    </script>
</body>
</html>